/**
 * better-emmet-plugin: Emmet abbreviation parser for better-dom
 * @version 1.0.0-beta.1 Sun, 03 Apr 2016 13:38:44 GMT
 * @link https://github.com/chemerisuk/better-emmet-plugin#readme
 * @copyright 2016 Maksim Chemerisuk
 * @license MIT
 */
!function(e){"use strict";var r={"(":1,")":2,">":3,"+":4,"*":5,"{":6,"[":7,".":7,"#":7},n=/\{[^\}]*\}|\[[^\]]*\]|\.[^()>^+*\{[#]+|[^()>^+*\{[#.]+|\^+|./g,t=/\s*([\w\-]+)(?:=((?:("|')(\\?.)*?\3)|[^\s]*))?/g,i=/(\$+)(?:@(-)?(\d+)?)?/g,a=/\./g,s=/\$/g,c={"":""},f=function(e,r,n,t){return void 0===n&&(n=r),void 0===t&&(n='"'+n+'"')," "+r+"="+n},o=function(e,r){return function(n){var t=r?n.lastIndexOf("<"):n.indexOf(">");return n.slice(0,t)+e+n.slice(t)}},u=function(e){return c[e]||(c[e]="<"+e+"></"+e+">")},l=function(e,r){var n,t=Array(e);for(n=0;e>n;++n)t[n]=r.replace(i,function(r,t,i,a){var c=(i?e-n-1:n)+(a?+a:1);return(t+c).slice(-t.length).replace(s,"0")});return t},h=/[&<>"']/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};"area base br col hr img input link meta param command keygen source".split(" ").forEach(function(e){c[e]="<"+e+">"}),e.emmet=function(e){if("string"!=typeof e)throw new TypeError("template");if(e in c)return c[e];for(var i=[],s=[],g=0,m=e.match(n);g<m.length;++g){var v=m[g],d=v[0],b=r[d];if(b){if("("!==v)for(;i[0]!==d&&r[i[0]]>=b;)s.push(i.shift());")"===v?i.shift():("["!==d&&"{"!==d||s.push(v.slice(1,-1)),"."===d&&s.push(v.slice(1).replace(a," ")),i.unshift(d))}else s.push(v)}s=s.concat(i),i=[];for(var k=0;k<s.length;++k){var y=s[k];if(y in r){var w=i.shift(),j=i.shift();switch("string"==typeof j&&(j=[u(j)]),y){case".":w=o(' class="'+w+'"');break;case"#":w=o(' id="'+w+'"');break;case"[":w=o(w.replace(t,f));break;case"*":j=l(+w,j.join(""));break;case"{":i.unshift(j),j=[w.replace(h,function(e){return p[e]})];break;default:w="string"==typeof w?u(w):w.join(""),">"===y?w=o(w,!0):j.push(w)}y="function"==typeof w?j.map(w):j}i.unshift(y)}return s=1===s.length?u(i[0]):i[0].join("")}}(window.DOM);