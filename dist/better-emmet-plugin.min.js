/**
 * better-emmet-plugin: Emmet abbreviation parser for better-dom
 * @version 1.0.0-beta.3 Wed, 06 Apr 2016 17:15:09 GMT
 * @link https://github.com/chemerisuk/better-emmet-plugin
 * @copyright 2016 Maksim Chemerisuk
 * @license MIT
 */
!function(e){"use strict";var r={"(":1,")":2,">":3,"+":4,"*":5,"{":6,"[":7,".":7,"#":7},t=/\{[^\}]*\}|\[[^\]]*\]|\.[^()>^+*\{[#]+|[^()>^+*\{[#.]+|\^+|./g,n=/\s*([\w\-]+)(?:=((?:("|')(\\?.)*?\3)|[^\s]*))?/g,i=/(\$+)(?:@(-)?(\d+)?)?/g,a=/\./g,c=/\$/g,f={"":""},s=function(e,r,t,n){return void 0===t&&(t=r),void 0===n&&(t='"'+t+'"')," "+r+"="+t},u=function(e,r){return function(t){var n=r?t.lastIndexOf("<"):t.indexOf(">");return t.slice(0,n)+e+t.slice(n)}},o=function(e){return f[e]||(f[e]="<"+e+"></"+e+">")},l=function(e,r){var t,n=Array(e);for(t=0;e>t;++t)n[t]=r.replace(i,function(r,n,i,a){var f=(i?e-t-1:t)+(a?+a:1);return(n+f).slice(-n.length).replace(c,"0")});return n},h=/[&<>"']/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};"area base br col hr img input link meta param command keygen source".split(" ").forEach(function(e){f[e]="<"+e+">"}),e.emmet=function(e){if("string"!=typeof e)throw new TypeError("template");if(e in f)return f[e];for(var i=[],c=[],g=0,m=e.match(t);g<m.length;++g){var v=m[g],d=v[0],y=r[d];if(y){if("("!==v)for(;i[0]!==d&&r[i[0]]>=y;)c.push(i.shift());")"===v?i.shift():("["!==d&&"{"!==d||c.push(v.slice(1,-1)),"."===d&&c.push(v.slice(1).replace(a," ")),i.unshift(d))}else c.push(v)}c=c.concat(i),i=[];for(var b=0;b<c.length;++b){var k=c[b];if(k in r){var w=i.shift(),j=i.shift();switch("string"==typeof j&&(j=[o(j)]),k){case".":w=u(' class="'+w+'"');break;case"#":w=u(' id="'+w+'"');break;case"[":w=u(w.replace(n,s));break;case"*":j=l(+w,j.join(""));break;case"{":i.unshift(j),j=[w.replace(h,function(e){return p[e]})];break;default:w="string"==typeof w?o(w):w.join(""),">"===k?w=u(w,!0):j.push(w)}k="function"==typeof w?j.map(w):j}i.unshift(k)}return c=1===c.length?o(i[0]):i[0].join("")},e.emmet.esliteral=function(r){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return e.emmet(n.reduce(function(e,t,n){return e+t+r[n+1]},r[0]))}}(window.DOM);